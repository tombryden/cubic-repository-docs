generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider  = "postgresql"
    url       = env("DATABASE_URL")
    directUrl = env("DIRECT_URL")
}

enum WikiStatus {
    STARTED
    GENERATING
    GENERATED
    FAILED
}

model Wiki {
    id         String     @id
    repository String     @unique
    status     WikiStatus
    pages      WikiPage[]
}

model WikiPage {
    id              String @id
    wikiId          String
    wiki            Wiki   @relation(fields: [wikiId], references: [id])
    title           String
    slug            String
    markdownContent String
    order           Int
}
